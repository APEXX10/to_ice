
:root{
  /* Pink-toned palette */
  --pink-1: #ffeef6; /* very light */
  --pink-2: #ffd7ea; /* light */
  --pink-3: #ffb3d1; /* mid */
  --pink-4: #ff7fb3; /* rich */
  --accent: #ff4d85; /* strong accent */
  --paper: #fffefc;
  --muted:#6b6b6b;
}
*{box-sizing:border-box}
html,body{height:100%}
.root-font{}
body{
  margin:0;
  font-family: "Segoe UI", Roboto, "Noto Sans", sans-serif;
  /* match proposal page background (pink gradient) */
  background: radial-gradient(circle at 10% 20%, #fff0f6, transparent 6%),
              linear-gradient(90deg,#ffeef6 0%, #fff9ec 50%, #ffeef6 100%);
  -webkit-font-smoothing:antialiased;
  display:flex;
  align-items:center;
  justify-content:center;
  min-height:100vh;
}
/* layout for envelope scene */
.stage{min-height:100vh;display:flex;align-items:center;justify-content:center;padding:48px}
.scene{display:flex;flex-direction:column;align-items:center;gap:18px}

/* Hero / CTA styles for index */
.hero{max-width:920px;text-align:center;color:#6b2d4a;margin-bottom:18px}
.hero h1{font-size:40px;margin:0 0 8px;letter-spacing:0.4px;color:var(--accent);font-weight:900}
.hero p{margin:0 0 16px;color:#6b3350;font-size:18px}
.cta{background:linear-gradient(180deg,#ff6aa6,#ff4d85);color:white;border:0;padding:14px 28px;border-radius:30px;font-weight:800;box-shadow:0 18px 40px rgba(255,90,140,0.18);cursor:pointer;transition:transform 180ms ease, box-shadow 180ms ease}
.cta:hover{transform:translateY(-4px);box-shadow:0 28px 60px rgba(255,90,140,0.22)}
.cta:active{transform:translateY(-1px)}

/* decorative floating hearts behind envelope */
.hearts-root{position:relative;width:100%;height:0;pointer-events:none}
.heart{position:absolute;font-size:18px;opacity:0;transform-origin:center;pointer-events:none}
@keyframes floatUp {
  0%{transform:translateY(0) scale(.9);opacity:0}
  10%{opacity:1}
  70%{opacity:1}
  100%{transform:translateY(-220px) scale(1.25);opacity:0}
}

/* subtle page sparkles */
.sparkle{position:fixed;width:8px;height:8px;border-radius:50%;background:rgba(255,230,245,0.9);box-shadow:0 0 8px rgba(255,150,200,0.5);opacity:0;pointer-events:none}
@keyframes twinkle{0%{opacity:0}50%{opacity:1}100%{opacity:0}}


/* envelope */
.envelope{width:360px;height:240px;position:relative;cursor:pointer;transform-style:preserve-3d;perspective:1000px}
.envelope:focus{
  outline: none; /* remove default focus/frame when clicking */
  box-shadow: none;
  outline-offset: 0;
  -webkit-tap-highlight-color: transparent; /* mobile tap */
}
.envelope-body{width:100%;height:100%;background:linear-gradient(180deg,var(--paper),#fffef8);border-radius:12px;position:relative;box-shadow:0 18px 40px rgba(6,10,20,0.18), 0 6px 18px rgba(255,120,160,0.06);overflow:hidden;transition:transform .45s ease}

/* soft border and inner highlight to feel like paper */
.envelope-body::before{content:"";position:absolute;inset:0;border-radius:12px;padding:1px;background:linear-gradient(180deg, rgba(255,255,255,0.6), rgba(255,255,255,0));-webkit-mask: linear-gradient(#000,#000) content-box;box-shadow:inset 0 2px 0 rgba(255,255,255,0.6)}
.envelope-body::before{content:"";position:absolute;inset:0;border-radius:12px;padding:1px;background:linear-gradient(180deg, rgba(255,255,255,0.6), rgba(255,255,255,0));-webkit-mask: linear-gradient(#000,#000) content-box;mask: linear-gradient(#000,#000) content-box;box-shadow:inset 0 2px 0 rgba(255,255,255,0.6)}

/* subtle decorative crease */
.envelope-body::after{content:"";position:absolute;left:8%;right:8%;top:48%;height:1px;background:linear-gradient(90deg, rgba(0,0,0,0.04), rgba(255,255,255,0.6), rgba(0,0,0,0.04));opacity:0.7}

/* flap */
.envelope-flap{position:absolute;left:0;right:0;top:0;height:60%;background:linear-gradient(180deg,var(--pink-3),var(--pink-4));clip-path:polygon(0 0,100% 0,50% 100%);transform-origin:top center;transition:transform .6s cubic-bezier(.2,.9,.25,1), box-shadow .2s;border-radius:0 0 6px 6px}

/* flap edge highlight */
.envelope-flap::after{content:"";position:absolute;left:0;right:0;bottom:6px;height:18px;background:linear-gradient(180deg, rgba(255,255,255,0.4), rgba(255,255,255,0));filter:blur(8px);opacity:0.6;pointer-events:none}

/* small decorative seal on flap */
.envelope-flap::before{content:"";position:absolute;left:50%;top:36%;transform:translateX(-50%);width:64px;height:64px;border-radius:50%;background:radial-gradient(circle at 40% 35%, #fff7, rgba(255,255,255,0.08) 30%, rgba(0,0,0,0.06) 70%);box-shadow:0 6px 18px rgba(255,80,140,0.12) inset}

.paper{position:absolute;left:8%;right:8%;top:12%;bottom:8%;background:linear-gradient(180deg,var(--paper),#fffefc);border-radius:10px;padding:20px;box-shadow:0 8px 30px rgba(6,10,20,0.08), inset 0 1px 0 rgba(255,255,255,0.6);transform:translateY(32%) scale(.98) rotateX(8deg);transition:transform .6s cubic-bezier(.2,.9,.25,1), opacity .45s;opacity:0}
.paper-inner{position:relative;z-index:2}

.paper::before{content:"";position:absolute;left:12px;right:12px;top:12px;height:12px;background:linear-gradient(90deg, rgba(255,80,140,0.06), rgba(255,200,230,0));border-radius:8px;opacity:0.6}
.paper-inner{max-height:100%;overflow:auto}
.paper-title{margin:0 0 8px;color:var(--accent)}
.paper-text{margin:0;color:#333;line-height:1.6}

.envelope.open .envelope-flap{transform:rotateX(180deg) translateY(-8px);box-shadow:0 48px 80px rgba(6,10,20,0.24)}
.envelope.open .paper{transform:translateY(-6px) scale(1) rotateX(0deg);opacity:1}

/* when hovered before opening, give a tiny lift */
.envelope:not(.open):hover .envelope-body{transform:translateY(-6px)}

/* gentle pulse on the seal to draw attention */
.envelope:not(.open) .envelope-flap::before{transition:transform .9s ease}
.envelope:not(.open):hover .envelope-flap::before{transform:translateX(-50%) scale(1.04)}

.hint{color:rgba(255,255,255,0.9);font-weight:600;text-shadow:0 2px 8px rgba(0,0,0,0.12)}

/* Modal */
/* Reused confetti styles */
.confetti-root{position:fixed;inset:0;pointer-events:none;overflow:hidden;z-index:60}
.close{position:absolute;right:12px;top:10px;background:transparent;border:0;font-size:28px;line-height:1;cursor:pointer}
.modal-actions{display:flex;gap:12px;justify-content:center;margin-top:18px}

/* modal pop-in animation */
@keyframes popIn {
  0%{opacity:0;transform:translateY(18px) scale(.98)}
  60%{opacity:1;transform:translateY(-6px) scale(1.02)}
  100%{opacity:1;transform:translateY(0) scale(1)}
}
.hint{font-size:14px}

/* countdown styling */
.countdown{margin-top:12px;display:inline-block;background:rgba(0,0,0,0.06);color:#222;padding:8px 12px;border-radius:999px;font-weight:700;font-size:16px}

/* next section (scrolled-to) */
.next-section{min-height:100vh;display:flex;align-items:center;justify-content:center;padding:48px;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.0));}
.next-card{background:rgba(255,255,255,0.9);padding:28px;border-radius:16px;max-width:760px;box-shadow:0 12px 40px rgba(6,10,20,0.12);text-align:center}
.next-card h2{margin:0 0 8px;color:var(--accent)}
.next-card p{color:#333;margin:0 0 14px}
.next-actions{display:flex;gap:12px;justify-content:center;margin-top:16px}
.btn.small{padding:10px 14px;border-radius:10px}

@media (max-width:520px){
  .envelope{width:280px;height:180px}
  .hint{font-size:13px}
}

/* Responsive tweaks: tablet */
@media (max-width:900px){
  .hero h1{font-size:34px}
  .hero p{font-size:16px}
  .cta{padding:12px 24px;font-size:16px}
  .card{width:90%;padding:28px 32px}
  .title{font-size:30px}
  .subtitle{font-size:16px}
}

/* Responsive: phones */
@media (max-width:720px){
  body{padding:18px}
  .stage{padding:28px}
  .hero h1{font-size:28px}
  .hero p{font-size:15px}
  .envelope{width:320px;height:210px}
  .paper{left:6%;right:6%;top:14%;bottom:8%;padding:16px}
  .paper-title{font-size:16px}
  .paper-text{font-size:15px}
  .card{width:94%;padding:22px}
  .title{font-size:28px}
  .btn-accept{padding:12px 28px;font-size:16px}
  .btn-decline{padding:12px 24px;font-size:15px}
  .top-card{min-width:260px}
}

@media (max-width:520px){
  .hero h1{font-size:22px}
  .hero p{font-size:14px}
  .cta{padding:10px 18px;font-size:15px}
  .envelope{width:260px;height:160px}
  .paper{left:7%;right:7%;top:14%;bottom:9%;padding:12px}
  .paper-title{font-size:14px}
  .paper-text{font-size:13px}
  .card{padding:18px}
  .title{font-size:22px}
  .subtitle{font-size:14px}
  .btn-accept{padding:10px 20px;font-size:15px}
  .btn-decline{padding:10px 18px;font-size:14px}
  .top-card{left:6%;right:6%;transform:none}
  .top-card.open{left:50%;transform:translateX(-50%)}
  .top-card .icon{width:36px;height:36px;font-size:18px}
  .top-card .text{font-size:14px}
  .top-card .sub{font-size:12px}
}

/* Very small screens */
@media (max-width:380px){
  .hero h1{font-size:20px}
  .hero p{font-size:13px}
  .card{padding:14px}
  .title{font-size:20px}
  .btn-accept{padding:10px 16px;font-size:14px}
}

/* Confetti pieces */
.confetti-root{position:fixed;inset:0;pointer-events:none;overflow:hidden}
.confetti{position:absolute;width:10px;height:16px;border-radius:2px;opacity:0.95}

/* small screens */
@media (max-width:520px){
  .title{font-size:24px}
  .heart{font-size:48px}
  .card{padding:20px;border-radius:12px}
}

/* subtle animated background shapes */
body::before{content:"";position:fixed;inset:-10%;background:radial-gradient(circle at 10% 10%, rgba(255,255,255,0.06), transparent 10%), radial-gradient(circle at 90% 90%, rgba(0,0,0,0.03), transparent 12%);z-index:-1}

.title span#recipient{color:var(--accent)}
